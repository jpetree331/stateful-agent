# ============================================================
# Stateful LangGraph Agent — Environment Configuration
# Copy this file to .env and fill in your values.
# ============================================================

# ──────────────────────────────────────────────
# Database (required)
# ──────────────────────────────────────────────
# PostgreSQL for conversation history, memory, and cron jobs.
# Get from Railway: Postgres service → Connect → Postgres URL
# Format: postgresql://postgres:PASSWORD@HOST:PORT/railway
DATABASE_URL=

# ──────────────────────────────────────────────
# LLM Provider (required — set at least one)
# ──────────────────────────────────────────────
# OpenAI (default provider)
OPENAI_API_KEY=sk-...

# Anthropic (optional)
# ANTHROPIC_API_KEY=sk-ant-...

# Custom / compatible endpoint (e.g. Chutes AI, Ollama, Kimi Code, etc.)
# Leave empty to use default OpenAI endpoint.
# Include /v1 at the end for OpenAI-compatible APIs.
OPENAI_BASE_URL=
# Example: https://your-username-your-chute.chutes.ai/v1

# Model name when using a custom endpoint
OPENAI_MODEL_NAME=
# Example: gpt-4o, kimi-k-2.5, gpt-oss-120b

# ── Kimi Code (Moonshot AI subscription) ──────────────────
# If you have a Kimi Code membership (kimi.com/code), you can use your
# subscription quota instead of paying per-token. Steps:
#   1. Subscribe at https://kimi.com/code
#   2. Generate an API key at https://kimi.com/code/console → API Keys
#      (key will start with sk-kimi-)
#   3. Set the three vars below:
#
# OPENAI_API_KEY=sk-kimi-your-key-here
# OPENAI_BASE_URL=https://api.kimi.com/coding/v1
# OPENAI_MODEL_NAME=kimi-for-coding
#
# Note: the agent automatically sends the correct User-Agent header so
# Kimi's client whitelist check passes — no extra config needed.

# ──────────────────────────────────────────────
# Agent Identity (optional)
# ──────────────────────────────────────────────
# Display name shown in dashboard for user messages
USER_DISPLAY_NAME=User

# ──────────────────────────────────────────────
# Memory & Context
# ──────────────────────────────────────────────
# Max tokens of conversation history loaded per turn (default: 200000)
# Must leave room for system prompt + tools (~30k tokens)
# CONTEXT_WINDOW_TOKENS=200000

# Number of recent messages to keep in context (default: 30)
# RECENT_MESSAGES_LIMIT=30

# ──────────────────────────────────────────────
# Timezone
# ──────────────────────────────────────────────
# The agent will know the current date/time in this timezone.
# AGENT_TIMEZONE=America/New_York

# ──────────────────────────────────────────────
# Hindsight (episodic memory — optional)
# ──────────────────────────────────────────────
# Deep memory: retains, recalls, and reflects on lived experiences.
# Run Hindsight server via Docker first — see README for setup.
HINDSIGHT_BASE_URL=http://localhost:8888
HINDSIGHT_BANK_ID=my-agent-memory
# HINDSIGHT_ENABLED=true

# Optional stable user identifier for Hindsight tags
# HINDSIGHT_USER_ID=user:your_id_here

# Default user identity for local/chat usage
# DEFAULT_USER_ID=your_user_id
# DEFAULT_CHANNEL_TYPE=local  # "discord", "telegram", or "local"

# Hindsight server LLM (required when running Docker).
# Example using Chutes AI (free tier available):
# HINDSIGHT_API_LLM_PROVIDER=openai
# HINDSIGHT_API_LLM_BASE_URL=https://your-chute.chutes.ai/v1
# HINDSIGHT_API_LLM_MODEL=openai/gpt-oss-120b-TEE
# HINDSIGHT_API_LLM_API_KEY=your-chutes-api-key

# ──────────────────────────────────────────────
# Discord Integration (optional)
# ──────────────────────────────────────────────
# DISCORD_BOT_TOKEN — get from https://discord.com/developers/applications → Bot → Token
# DISCORD_CHANNEL_ID — right-click channel/DM in Discord (Dev Mode on) → Copy ID
DISCORD_BOT_TOKEN=
DISCORD_CHANNEL_ID=

# ──────────────────────────────────────────────
# Telegram Integration (optional)
# ──────────────────────────────────────────────
# TELEGRAM_BOT_TOKEN — create a bot at @BotFather on Telegram
# TELEGRAM_CHAT_ID   — your personal chat ID (message @userinfobot to find it)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ──────────────────────────────────────────────
# Heartbeat (optional — autonomous wake-up)
# ──────────────────────────────────────────────
# Path to a custom heartbeat prompt .txt file (leave empty to use built-in default)
# HEARTBEAT_PROMPT_PATH=/path/to/your/HEARTBEAT.txt

# Minutes of user inactivity before heartbeat will run (default: 5)
# HEARTBEAT_SKIP_WINDOW_MINUTES=5

# Waking-hours gate: heartbeat is skipped outside this window (uses AGENT_TIMEZONE)
# Hours are 0–23; default is 5 AM – 10 PM
# HEARTBEAT_WAKE_HOUR=5
# HEARTBEAT_SLEEP_HOUR=22

# ──────────────────────────────────────────────
# File Tools (optional)
# ──────────────────────────────────────────────
# Trash folder for soft-deleted files (default: ~/Desktop/Agent_Trash)
# AGENT_TRASH_FOLDER=~/Desktop/Agent_Trash

# Clipboard access (disabled by default for privacy)
# CLIPBOARD_ENABLED=false

# ──────────────────────────────────────────────
# Screenshot / Vision (optional — for analyze_screenshot & in-game overlay)
# ──────────────────────────────────────────────
# Override if your main model doesn't support vision (e.g. gpt-4o-mini)
# VISION_MODEL_NAME=gpt-4o-mini
# VISION_BASE_URL=

# Tune resolution without touching code — smaller = faster vision calls
# VISION_MAX_WIDTH=1024
# VISION_MAX_HEIGHT=768
# VISION_JPEG_QUALITY=75
# Go even smaller if still slow:
# VISION_MAX_WIDTH=800
# VISION_MAX_HEIGHT=600
# VISION_JPEG_QUALITY=70

# ──────────────────────────────────────────────
# Brave Search (optional — for web_search tool)
# ──────────────────────────────────────────────
# Get API key at https://brave.com/search/api/
# BRAVE_API_KEY=

# ──────────────────────────────────────────────
# LangSmith Tracing (optional — for debugging)
# ──────────────────────────────────────────────
# Get API key at https://smith.langchain.com/settings
LANGCHAIN_TRACING_V2=false
LANGCHAIN_API_KEY=
# LANGCHAIN_PROJECT=stateful-agent

# ──────────────────────────────────────────────
# CORS (optional — for remote dashboard access)
# ──────────────────────────────────────────────
# Comma-separated list of extra allowed origins (e.g. your Netlify/Vercel URL)
# CORS_ORIGINS=https://your-dashboard.netlify.app
